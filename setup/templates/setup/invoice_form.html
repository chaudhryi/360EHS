{% extends 'setup/base.html' %}

{% load crispy_forms_tags %}

{% block content %}
<h2>Add or Update an Invoice</h2>
<hr>
<form method="POST" class="invoice-form" novalidate>{% csrf_token %}
    <div class="form-row">
        
        <div class="form-group col-md-3 mb-0">
            {{ form.InvoiceNumber|as_crispy_field }}
        </div>        
        <div class="form-group col-md-3 mb-0">
            {{ form.InvoiceDate|as_crispy_field }}
        </div>
    </div>
    <hr>
    <div class="form-row">
        <div class="form-group col-md-3 mb-0">
            {{ form.InvoiceSubtotal|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
            {{ form.InvoiceTax|as_crispy_field }}
        </div>  
        <div class="form-group col-md-3 mb-0">
            {{ form.InvoiceTotal|as_crispy_field }}
        </div>      
    </div>
    
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<script>

  document.getElementById("id_InvoiceSubtotal").value = {{hold.Amount}};
  document.getElementById("id_InvoiceTax").value = ({{hold.Amount}}/100) * 13;
  document.getElementById("id_InvoiceTotal").value = {{hold.Amount}} + ({{hold.Amount}}/100) * 13;

</script>
{% endblock content%}